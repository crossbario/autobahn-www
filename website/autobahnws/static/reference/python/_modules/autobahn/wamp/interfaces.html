

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>autobahn.wamp.interfaces &mdash; Autobahn 0.8.5 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'../../../',
        VERSION:'0.8.5',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true
      };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
    <link rel="top" title="Autobahn 0.8.5 documentation" href="../../../index.html"/>
        <link rel="up" title="autobahn.wamp" href="../wamp.html"/> 

  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../../../index.html" class="icon icon-home"> Autobahn</a>
        <form class="wy-form" action="../../../search.html" method="get">
  <input type="text" name="q" placeholder="Search docs" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../websockettoc.html">WebSocket</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../websocketintro.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../websocketbase.html">WebSocket</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../websocketclient.html">WebSocket Clients</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../websocketserver.html">WebSocket Servers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../websocketcompress.html">WebSocket Compression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../websocketaux.html">WebSocket Auxiliary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../twistedintegration.html">Twisted Integration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../wamp1toc.html">WAMP v1</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../wamp1base.html">Base</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../wamp1client.html">Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../wamp1server.html">Server</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../wamp2.html">WAMP v2</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../wamp2.html#sessions">Sessions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../wamp2.html#callers">Callers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../wamp2.html#callees">Callees</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../wamp2.html#subscribers">Subscribers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../wamp2.html#publishers">Publishers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../wamp2.html#decorators">Decorators</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../wamp2all.html">WAMP v2</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../wamp2all.html#interfaces">Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../wamp2all.html#errors">Errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../wamp2all.html#router">Router</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../wamp2all.html#protocol">Protocol</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href="/">Autobahn</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <ul class="wy-breadcrumbs">
  <li><a href="../../../index.html">Docs</a> &raquo;</li>
  <li><a href="">autobahn.wamp.interfaces</a></li>
  
</ul>
<hr/>

          
  <h1>Source code for autobahn.wamp.interfaces</h1><div class="highlight"><pre>
<span class="c">###############################################################################</span>
<span class="c">##</span>
<span class="c">##  Copyright (C) 2013-2014 Tavendo GmbH</span>
<span class="c">##</span>
<span class="c">##  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<span class="c">##  you may not use this file except in compliance with the License.</span>
<span class="c">##  You may obtain a copy of the License at</span>
<span class="c">##</span>
<span class="c">##      http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="c">##</span>
<span class="c">##  Unless required by applicable law or agreed to in writing, software</span>
<span class="c">##  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="c">##  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="c">##  See the License for the specific language governing permissions and</span>
<span class="c">##  limitations under the License.</span>
<span class="c">##</span>
<span class="c">###############################################################################</span>

<span class="kn">from</span> <span class="nn">zope.interface</span> <span class="kn">import</span> <span class="n">Interface</span><span class="p">,</span> <span class="n">Attribute</span>



<div class="viewcode-block" id="IObjectSerializer"><a class="viewcode-back" href="../../../wamp2all.html#autobahn.wamp.interfaces.IObjectSerializer">[docs]</a><span class="k">class</span> <span class="nc">IObjectSerializer</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">   Raw Python object serialization and unserialization. Object serializers are</span>
<span class="sd">   used by classes implementing WAMP serializers, that is instances of</span>
<span class="sd">   :class:`autobahn.wamp.interfaces.ISerializer`.</span>
<span class="sd">   &quot;&quot;&quot;</span>

   <span class="n">BINARY</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s">&quot;&quot;&quot;Flag to indicate if serializer requires a binary clean</span>
<span class="s">      transport or if UTF8 transparency is sufficient.&quot;&quot;&quot;</span><span class="p">)</span>


   <span class="k">def</span> <span class="nf">serialize</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Serialize an object to a byte string.</span>

<span class="sd">      :param obj: Object to serialize.</span>
<span class="sd">      :type obj: Any serializable type.</span>

<span class="sd">      :returns: str -- Serialized byte string.</span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">unserialize</span><span class="p">(</span><span class="nb">bytes</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Unserialize an object from a byte string.</span>

<span class="sd">      :param bytes: Object to serialize.</span>
<span class="sd">      :type bytes: Any serializable type.</span>

<span class="sd">      :returns: obj -- Any type that can be unserialized.</span>
<span class="sd">      &quot;&quot;&quot;</span>


</div>
<div class="viewcode-block" id="IMessage"><a class="viewcode-back" href="../../../wamp2all.html#autobahn.wamp.interfaces.IMessage">[docs]</a><span class="k">class</span> <span class="nc">IMessage</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">   A WAMP message.</span>
<span class="sd">   &quot;&quot;&quot;</span>

   <span class="n">MESSAGE_TYPE</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s">&quot;&quot;&quot;WAMP message type code.&quot;&quot;&quot;</span><span class="p">)</span>


   <span class="k">def</span> <span class="nf">marshal</span><span class="p">():</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Marshal this object into a raw message for subsequent serialization to bytes.</span>

<span class="sd">      :returns: list -- The serialized raw message.</span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="n">wmsg</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Factory method that parses a unserialized raw message (as returned byte</span>
<span class="sd">      :func:`autobahn.interfaces.ISerializer.unserialize`) into an instance</span>
<span class="sd">      of this class.</span>

<span class="sd">      :returns: obj -- An instance of this class. </span>
<span class="sd">      &quot;&quot;&quot;</span>
   
   <span class="k">def</span> <span class="nf">serialize</span><span class="p">(</span><span class="n">serializer</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Serialize this object into a wire level bytestring representation and cache</span>
<span class="sd">      the resulting bytestring. If the cache already contains an entry for the given</span>
<span class="sd">      serializer, return the cached representation directly.</span>

<span class="sd">      :param serializer: The wire level serializer to use.</span>
<span class="sd">      :type serializer: An instance that implements :class:`autobahn.interfaces.ISerializer`</span>

<span class="sd">      :returns: bytes -- The serialized bytes.</span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">uncache</span><span class="p">():</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Resets the serialization cache.</span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Message equality. This does an attribute-wise comparison (but skips attributes</span>
<span class="sd">      that start with &quot;_&quot;).</span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">__ne__</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Message inequality (just the negate of message equality).</span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">__str__</span><span class="p">():</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Returns text representation of this message.</span>

<span class="sd">      :returns: str -- Human readable representation (e.g. for logging or debugging purposes).</span>
<span class="sd">      &quot;&quot;&quot;</span>


</div>
<div class="viewcode-block" id="ISerializer"><a class="viewcode-back" href="../../../wamp2all.html#autobahn.wamp.interfaces.ISerializer">[docs]</a><span class="k">class</span> <span class="nc">ISerializer</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">   WAMP message serialization and unserialization.</span>
<span class="sd">   &quot;&quot;&quot;</span>

   <span class="n">MESSAGE_TYPE_MAP</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s">&quot;&quot;&quot;Mapping of WAMP message type codes to WAMP message classes.&quot;&quot;&quot;</span><span class="p">)</span>

   <span class="n">SERIALIZER_ID</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s">&quot;&quot;&quot;The WAMP serialization format ID.&quot;&quot;&quot;</span><span class="p">)</span>


   <span class="k">def</span> <span class="nf">serialize</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Serializes a WAMP message to bytes to be sent to a transport.</span>

<span class="sd">      :param message: An instance that implements :class:`autobahn.wamp.interfaces.IMessage`</span>
<span class="sd">      :type message: obj</span>

<span class="sd">      :returns: tuple -- A pair `(bytes, isBinary)`.</span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">unserialize</span><span class="p">(</span><span class="nb">bytes</span><span class="p">,</span> <span class="n">isBinary</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Unserializes bytes from a transport and parses a WAMP message.</span>

<span class="sd">      :param bytes: Byte string from wire.</span>
<span class="sd">      :type bytes: bytes</span>

<span class="sd">      :returns: obj -- An instance that implements :class:`autobahn.wamp.interfaces.IMessage`.</span>
<span class="sd">      &quot;&quot;&quot;</span>


</div>
<div class="viewcode-block" id="ITransport"><a class="viewcode-back" href="../../../wamp2all.html#autobahn.wamp.interfaces.ITransport">[docs]</a><span class="k">class</span> <span class="nc">ITransport</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">   A WAMP transport is a bidirectional, full-duplex, reliable, ordered,</span>
<span class="sd">   message-based channel.</span>
<span class="sd">   &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">send</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Send a WAMP message over the transport to the peer. If the transport is</span>
<span class="sd">      not open, this raises :class:`autobahn.wamp.exception.TransportLost`.</span>

<span class="sd">      :param message: An instance that implements :class:`autobahn.wamp.interfaces.IMessage`</span>
<span class="sd">      :type message: obj      </span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">isOpen</span><span class="p">():</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Check if the transport is open for messaging.</span>

<span class="sd">      :returns: bool -- `True`, if the transport is open.</span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">close</span><span class="p">():</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Close the transport regularily. The transport will perform any</span>
<span class="sd">      closing handshake if applicable. This should be used for any</span>
<span class="sd">      application initiated closing.</span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">abort</span><span class="p">():</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Abort the transport abruptly. The transport will be destroyed as</span>
<span class="sd">      fast as possible, and without playing nice to the peer. This should</span>
<span class="sd">      only be used in case of fatal errors, protocol violations or possible</span>
<span class="sd">      detected attacks.</span>
<span class="sd">      &quot;&quot;&quot;</span>


</div>
<div class="viewcode-block" id="ITransportHandler"><a class="viewcode-back" href="../../../wamp2all.html#autobahn.wamp.interfaces.ITransportHandler">[docs]</a><span class="k">class</span> <span class="nc">ITransportHandler</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>

   <span class="k">def</span> <span class="nf">onOpen</span><span class="p">(</span><span class="n">transport</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Callback fired when transport is open.</span>

<span class="sd">      :param transport: An instance that implements :class:`autobahn.wamp.interfaces.ITransport`</span>
<span class="sd">      :type transport: obj      </span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">onMessage</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Callback fired when a WAMP message was received.</span>

<span class="sd">      :param message: An instance that implements :class:`autobahn.wamp.interfaces.IMessage`</span>
<span class="sd">      :type message: obj</span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">onClose</span><span class="p">(</span><span class="n">wasClean</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Callback fired when the transport has been closed.</span>

<span class="sd">      :param wasClean: Indicates if the transport has been closed regularily.</span>
<span class="sd">      :type wasClean: bool</span>
<span class="sd">      &quot;&quot;&quot;</span>


</div>
<div class="viewcode-block" id="ISession"><a class="viewcode-back" href="../../../wamp2.html#autobahn.wamp.interfaces.ISession">[docs]</a><span class="k">class</span> <span class="nc">ISession</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">   Base interface for WAMP sessions.</span>
<span class="sd">   &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">onConnect</span><span class="p">():</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Callback fired when the transport this session will run over has been established.</span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">join</span><span class="p">(</span><span class="n">realm</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Attach the session to the given realm. A session is open as soon as it is attached to a realm.</span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">onJoin</span><span class="p">(</span><span class="n">details</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Callback fired when WAMP session has been established.</span>

<span class="sd">      :param details: Session information.</span>
<span class="sd">      :type details: Instance of :class:`autobahn.wamp.types.SessionDetails`.</span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">leave</span><span class="p">(</span><span class="n">reason</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">message</span> <span class="o">=</span> <span class="bp">None</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Actively close this WAMP session.</span>

<span class="sd">      :param reason: An optional URI for the closing reason.</span>
<span class="sd">      :type reason: str</span>
<span class="sd">      :param message: An optional (human readable) closing message, intended for</span>
<span class="sd">                      logging purposes.</span>
<span class="sd">      :type message: str</span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">onLeave</span><span class="p">(</span><span class="n">details</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Callback fired when WAMP session has is closed</span>

<span class="sd">      :param details: Close information.</span>
<span class="sd">      :type details: Instance of :class:`autobahn.wamp.types.CloseDetails`.</span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">disconnect</span><span class="p">():</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Close the underlying transport.</span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">onDisconnect</span><span class="p">():</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Callback fired when underlying transport has been closed.</span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">define</span><span class="p">(</span><span class="n">exception</span><span class="p">,</span> <span class="n">error</span> <span class="o">=</span> <span class="bp">None</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Defines an exception for a WAMP error in the context of this WAMP session.</span>

<span class="sd">      :param exception: The exception class to define an error mapping for.</span>
<span class="sd">      :type exception: A class that derives of ``Exception``.</span>
<span class="sd">      :param error: The URI (or URI pattern) the exception class should be mapped for.</span>
<span class="sd">                    Iff the ``exception`` class is decorated, this must be ``None``.</span>
<span class="sd">      :type error: str</span>
<span class="sd">      &quot;&quot;&quot;</span>


</div>
<div class="viewcode-block" id="ICaller"><a class="viewcode-back" href="../../../wamp2.html#autobahn.wamp.interfaces.ICaller">[docs]</a><span class="k">class</span> <span class="nc">ICaller</span><span class="p">(</span><span class="n">ISession</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">   Interface for WAMP peers implementing role *Caller*.</span>
<span class="sd">   &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">call</span><span class="p">(</span><span class="n">procedure</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Call a remote procedure.</span>

<span class="sd">      This will return a Deferred/Future, that when resolved, provides the actual result.</span>

<span class="sd">      If the result is a single positional return value, it&#39;ll be returned &quot;as-is&quot;. If the</span>
<span class="sd">      result contains multiple positional return values or keyword return values,</span>
<span class="sd">      the result is wrapped in an instance of :class:`autobahn.wamp.types.CallResult`.</span>

<span class="sd">      If the call fails, the returned Deferred/Future will be rejected with an instance</span>
<span class="sd">      of :class:`autobahn.wamp.exception.ApplicationError`.</span>

<span class="sd">      If the *Caller* and *Dealer* implementations support cancelling of calls, the call may</span>
<span class="sd">      be canceled by canceling the returned Deferred/Future.</span>

<span class="sd">      If ``kwargs`` contains an ``options`` keyword argument that is an instance of</span>
<span class="sd">      :class:`autobahn.wamp.types.CallOptions`, this will provide</span>
<span class="sd">      specific options for the call to perform.</span>

<span class="sd">      :param procedure: The URI of the remote procedure to be called, e.g. `com.myapp.hello`.</span>
<span class="sd">      :type procedure: str</span>
<span class="sd">      :param args: Any positional arguments for the call.</span>
<span class="sd">      :type args: list</span>
<span class="sd">      :param kwargs: Any keyword arguments for the call.</span>
<span class="sd">      :type kwargs: dict</span>

<span class="sd">      :returns: obj -- A Deferred/Future for the call result -</span>
<span class="sd">                       an instance of :class:`twisted.internet.defer.Deferred` (when running under Twisted) or</span>
<span class="sd">                       an instance of :class:`asyncio.Future` (when running under asyncio).</span>
<span class="sd">      &quot;&quot;&quot;</span>


</div>
<div class="viewcode-block" id="IRegistration"><a class="viewcode-back" href="../../../wamp2.html#autobahn.wamp.interfaces.IRegistration">[docs]</a><span class="k">class</span> <span class="nc">IRegistration</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">   Represents a registration of an endpoint.</span>
<span class="sd">   &quot;&quot;&quot;</span>
   <span class="nb">id</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s">&quot;The WAMP registration ID for this registration.&quot;</span><span class="p">)</span>

   <span class="n">active</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s">&quot;Flag indicating if registration is active.&quot;</span><span class="p">)</span>

   <span class="k">def</span> <span class="nf">unregister</span><span class="p">():</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Unregister this registration that was previously created from</span>
<span class="sd">      :func:`autobahn.wamp.interfaces.ICallee.register`.</span>

<span class="sd">      After a registration has been unregistered, calls won&#39;t get routed</span>
<span class="sd">      to the endpoint any more.</span>

<span class="sd">      This will return a Deferred/Future, that when resolved signals</span>
<span class="sd">      successful unregistration.</span>

<span class="sd">      If the unregistration fails, the returned Deferred/Future will be rejected</span>
<span class="sd">      with an instance of :class:`autobahn.wamp.exception.ApplicationError`.</span>

<span class="sd">      :returns: obj -- A Deferred/Future for the unregistration -</span>
<span class="sd">                       an instance of :class:`twisted.internet.defer.Deferred` (when running under Twisted)</span>
<span class="sd">                       or an instance of :class:`asyncio.Future` (when running under asyncio).</span>
<span class="sd">      &quot;&quot;&quot;</span>


</div>
<div class="viewcode-block" id="ICallee"><a class="viewcode-back" href="../../../wamp2.html#autobahn.wamp.interfaces.ICallee">[docs]</a><span class="k">class</span> <span class="nc">ICallee</span><span class="p">(</span><span class="n">ISession</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">   Interface for WAMP peers implementing role *Callee*.</span>
<span class="sd">   &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">register</span><span class="p">(</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">procedure</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">options</span> <span class="o">=</span> <span class="bp">None</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Register an endpoint for a procedure to (subsequently) receive calls</span>
<span class="sd">      calling that procedure.</span>

<span class="sd">      If ``endpoint`` is a callable (function, method or object that implements ``__call__``),</span>
<span class="sd">      then `procedure` must be provided and an instance of</span>
<span class="sd">      :class:`twisted.internet.defer.Deferred` (when running on Twisted) or an instance</span>
<span class="sd">      of :class:`asyncio.Future` (when running on asyncio) is returned.</span>

<span class="sd">      If the registration succeeds the Deferred/Future will resolve to an object</span>
<span class="sd">      that implements :class:`autobahn.wamp.interfaces.Registration`.</span>

<span class="sd">      If the registration fails the Deferred/Future will reject with an instance</span>
<span class="sd">      of :class:`autobahn.wamp.exception.ApplicationError`.</span>

<span class="sd">      If ``endpoint`` is an object, then each of the object&#39;s methods that are decorated</span>
<span class="sd">      with :func:`autobahn.wamp.procedure` are registered as procedure endpoints, and a list of</span>
<span class="sd">      Deferreds/Futures is returned that each resolves or rejects as above.</span>

<span class="sd">      :param endpoint: The endpoint or endpoint object called under the procedure.</span>
<span class="sd">      :type endpoint: callable</span>
<span class="sd">      :param procedure: When `endpoint` is a single event handler, the URI (or URI pattern)</span>
<span class="sd">                    of the procedure to register for. When ``endpoint`` is an endpoint</span>
<span class="sd">                    object, this value is ignored (and should be ``None``).</span>
<span class="sd">      :type procedure: str</span>
<span class="sd">      :param options: Options for registering.</span>
<span class="sd">      :type options: An instance of :class:`autobahn.wamp.types.RegisterOptions`.</span>

<span class="sd">      :returns: obj -- A (list of) Deferred(s)/Future(s) for the registration(s) -</span>
<span class="sd">                       instance(s) of :class:`twisted.internet.defer.Deferred` (when</span>
<span class="sd">                       running under Twisted) or instance(s) of :class:`asyncio.Future`</span>
<span class="sd">                       (when running under asyncio).</span>
<span class="sd">      &quot;&quot;&quot;</span>


</div>
<div class="viewcode-block" id="IPublication"><a class="viewcode-back" href="../../../wamp2.html#autobahn.wamp.interfaces.IPublication">[docs]</a><span class="k">class</span> <span class="nc">IPublication</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">   Represents a publication of an event. This is used with acknowledged publications.</span>
<span class="sd">   &quot;&quot;&quot;</span>
   <span class="nb">id</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s">&quot;The WAMP publication ID for this publication.&quot;</span><span class="p">)</span>


</div>
<div class="viewcode-block" id="IPublisher"><a class="viewcode-back" href="../../../wamp2.html#autobahn.wamp.interfaces.IPublisher">[docs]</a><span class="k">class</span> <span class="nc">IPublisher</span><span class="p">(</span><span class="n">ISession</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">   Interface for WAMP peers implementing role *Publisher*.</span>
<span class="sd">   &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">publish</span><span class="p">(</span><span class="n">topic</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Publish an event to a topic.</span>

<span class="sd">      If ``kwargs`` contains an ``options`` keyword argument that is an instance of</span>
<span class="sd">      :class:`autobahn.wamp.types.PublishOptions`, this will provide</span>
<span class="sd">      specific options for the publish to perform.</span>

<span class="sd">      If publication acknowledgement is requested via ``options.acknowledge == True``,</span>
<span class="sd">      this function returns a Deferred/Future:</span>

<span class="sd">        - if the publication succeeds the Deferred/Future will resolve to an object</span>
<span class="sd">          that implements :class:`autobahn.wamp.interfaces.IPublication`.</span>

<span class="sd">        - if the publication fails the Deferred/Future will reject with an instance</span>
<span class="sd">          of :class:`autobahn.wamp.exception.ApplicationError`.</span>

<span class="sd">      :param topic: The URI of the topic to publish to, e.g. `com.myapp.mytopic1`.</span>
<span class="sd">      :type topic: str</span>
<span class="sd">      :param args: Arbitrary application payload for the event (positional arguments).</span>
<span class="sd">      :type args: list</span>
<span class="sd">      :param kwargs: Arbitrary application payload for the event (keyword arguments).</span>
<span class="sd">      :type kwargs: dict</span>

<span class="sd">      :returns: obj -- `None` for non-acknowledged publications or,</span>
<span class="sd">                       for acknowledged publications, an instance of</span>
<span class="sd">                       :class:`twisted.internet.defer.Deferred` (when running under Twisted)</span>
<span class="sd">                       or an instance of :class:`asyncio.Future` (when running under asyncio).</span>
<span class="sd">      &quot;&quot;&quot;</span>


</div>
<div class="viewcode-block" id="ISubscription"><a class="viewcode-back" href="../../../wamp2.html#autobahn.wamp.interfaces.ISubscription">[docs]</a><span class="k">class</span> <span class="nc">ISubscription</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">   Represents a subscription to a topic.</span>
<span class="sd">   &quot;&quot;&quot;</span>
   <span class="nb">id</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s">&quot;The WAMP subscription ID for this subscription.&quot;</span><span class="p">)</span>

   <span class="n">active</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s">&quot;Flag indicating if subscription is active.&quot;</span><span class="p">)</span>

   <span class="k">def</span> <span class="nf">unsubscribe</span><span class="p">():</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Unsubscribe this subscription that was previously created from</span>
<span class="sd">      :func:`autobahn.wamp.interfaces.ISubscriber.subscribe`.</span>

<span class="sd">      After a subscription has been unsubscribed, events won&#39;t get</span>
<span class="sd">      routed to the handler anymore.</span>

<span class="sd">      This will return a Deferred/Future, that when resolved signals</span>
<span class="sd">      successful unsubscription.</span>

<span class="sd">      If the unsubscription fails, the returned Deferred/Future will be rejected</span>
<span class="sd">      with an instance of :class:`autobahn.wamp.exception.ApplicationError`.</span>

<span class="sd">      :returns: obj -- A Deferred/Future for the unsubscription -</span>
<span class="sd">                       an instance of :class:`twisted.internet.defer.Deferred` (when running under Twisted)</span>
<span class="sd">                       or an instance of :class:`asyncio.Future` (when running under asyncio).</span>
<span class="sd">      &quot;&quot;&quot;</span>


</div>
<div class="viewcode-block" id="ISubscriber"><a class="viewcode-back" href="../../../wamp2.html#autobahn.wamp.interfaces.ISubscriber">[docs]</a><span class="k">class</span> <span class="nc">ISubscriber</span><span class="p">(</span><span class="n">ISession</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">   Interface for WAMP peers implementing role *Subscriber*.</span>
<span class="sd">   &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">subscribe</span><span class="p">(</span><span class="n">handler</span><span class="p">,</span> <span class="n">topic</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">options</span> <span class="o">=</span> <span class="bp">None</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Subscribe to a topic and subsequently receive events published to that topic.</span>

<span class="sd">      If ``handler`` is a callable (function, method or object that implements ``__call__``),</span>
<span class="sd">      then `topic` must be provided and an instance of</span>
<span class="sd">      :class:`twisted.internet.defer.Deferred` (when running on Twisted) or an instance</span>
<span class="sd">      of :class:`asyncio.Future` (when running on asyncio) is returned.</span>

<span class="sd">      If the subscription succeeds the Deferred/Future will resolve to an object</span>
<span class="sd">      that implements :class:`autobahn.wamp.interfaces.ISubscription`.</span>

<span class="sd">      If the subscription fails the Deferred/Future will reject with an instance</span>
<span class="sd">      of :class:`autobahn.wamp.exception.ApplicationError`.</span>

<span class="sd">      If ``handler`` is an object, then each of the object&#39;s methods that are decorated</span>
<span class="sd">      with :func:`autobahn.wamp.topic` are subscribed as event handlers, and a list of</span>
<span class="sd">      Deferreds/Futures is returned that each resolves or rejects as above.</span>

<span class="sd">      :param handler: The event handler or handler object to receive events.</span>
<span class="sd">      :type handler: callable or obj</span>
<span class="sd">      :param topic: When `handler` is a single event handler, the URI (or URI pattern)</span>
<span class="sd">                    of the topic to subscribe to. When `handler` is an event handler</span>
<span class="sd">                    object, this value is ignored (and should be `None`).</span>
<span class="sd">      :type topic: str</span>
<span class="sd">      :param options: Options for subscribing.</span>
<span class="sd">      :type options: An instance of :class:`autobahn.wamp.types.SubscribeOptions`.</span>

<span class="sd">      :returns: obj -- A (list of) Deferred(s)/Future(s) for the subscription(s) -</span>
<span class="sd">                       instance(s) of :class:`twisted.internet.defer.Deferred` (when</span>
<span class="sd">                       running under Twisted) or instance(s) of :class:`asyncio.Future`</span>
<span class="sd">                       (when running under asyncio).</span>
<span class="sd">      &quot;&quot;&quot;</span>


</div>
<div class="viewcode-block" id="IRouterBase"><a class="viewcode-back" href="../../../wamp2all.html#autobahn.wamp.interfaces.IRouterBase">[docs]</a><span class="k">class</span> <span class="nc">IRouterBase</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>

   <span class="n">factory</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s">&quot;The router factory this router was created from.&quot;</span><span class="p">)</span>
   <span class="n">realm</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s">&quot;The WAMP realm this router handles.&quot;</span><span class="p">)</span>

   <span class="k">def</span> <span class="nf">attach</span><span class="p">(</span><span class="n">session</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Attach a WAMP application session to this router.</span>

<span class="sd">      :param session: Application session to add.</span>
<span class="sd">      :type session: An instance that implements :class:`autobahn.wamp.interfaces.ISession`</span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">detach</span><span class="p">(</span><span class="n">session</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Detach a WAMP application session from this router.</span>

<span class="sd">      :param session: Application session to remove.</span>
<span class="sd">      :type session: An instance that implements :class:`autobahn.wamp.interfaces.ISession`</span>
<span class="sd">      &quot;&quot;&quot;</span>


</div>
<div class="viewcode-block" id="IRouter"><a class="viewcode-back" href="../../../wamp2all.html#autobahn.wamp.interfaces.IRouter">[docs]</a><span class="k">class</span> <span class="nc">IRouter</span><span class="p">(</span><span class="n">IRouterBase</span><span class="p">):</span>

   <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Process a WAMP message received on the given session.</span>

<span class="sd">      :param session: Application session to remove.</span>
<span class="sd">      :type session: An instance that implements :class:`autobahn.wamp.interfaces.ISession`     </span>
<span class="sd">      :param message: An instance that implements :class:`autobahn.wamp.interfaces.IMessage`</span>
<span class="sd">      :type message: obj</span>
<span class="sd">      &quot;&quot;&quot;</span>


</div>
<div class="viewcode-block" id="IBroker"><a class="viewcode-back" href="../../../wamp2all.html#autobahn.wamp.interfaces.IBroker">[docs]</a><span class="k">class</span> <span class="nc">IBroker</span><span class="p">(</span><span class="n">IRouterBase</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">   WAMP broker interface. Brokers are responsible for event routing</span>
<span class="sd">   &quot;&quot;&quot;</span>
   <span class="k">def</span> <span class="nf">processPublish</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">session</span><span class="p">,</span> <span class="n">publish</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">processSubscribe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">session</span><span class="p">,</span> <span class="n">subscribe</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">processUnsubscribe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">session</span><span class="p">,</span> <span class="n">unsubscribe</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      &quot;&quot;&quot;</span>


</div>
<div class="viewcode-block" id="IDealer"><a class="viewcode-back" href="../../../wamp2all.html#autobahn.wamp.interfaces.IDealer">[docs]</a><span class="k">class</span> <span class="nc">IDealer</span><span class="p">(</span><span class="n">IRouterBase</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">   WAMP dealer interface. Dealers are responsible for call routing.</span>
<span class="sd">   &quot;&quot;&quot;</span>
   <span class="k">def</span> <span class="nf">processRegister</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">register</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">processUnregister</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">unregister</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">processCall</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">call</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">processCancel</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">cancel</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">processYield</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">yield_</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      &quot;&quot;&quot;</span>

   <span class="k">def</span> <span class="nf">processInvocationError</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">error</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      &quot;&quot;&quot;</span>


</div>
<div class="viewcode-block" id="IRouterFactory"><a class="viewcode-back" href="../../../wamp2all.html#autobahn.wamp.interfaces.IRouterFactory">[docs]</a><span class="k">class</span> <span class="nc">IRouterFactory</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>

   <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">realm</span><span class="p">):</span>
      <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Get router for responsible for given realm.</span>
<span class="sd">      &quot;&quot;&quot;</span></div>
</pre></div>

          <footer>
  

  <hr/>

  <p>
      &copy; Copyright 2011-2014 Tavendo GmbH.
  </p>

  <a href="https://www.github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="http://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  

</body>
</html>