<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>

<title>de.tavendo.autobahn.WampWriter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

<script>    $(document).ready(function() {       var frame = $('#thisframe', window.parent.document);       frame.height(document.body.offsetHeight + 100);    }); </script> </head>
<body>
<div id="top"><!-- do not remove this div! -->


<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>de</b>      </li>
      <li class="navelem"><b>tavendo</b>      </li>
      <li class="navelem"><b>autobahn</b>      </li>
      <li class="navelem"><a class="el" href="classde_1_1tavendo_1_1autobahn_1_1_wamp_writer.html">WampWriter</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">de.tavendo.autobahn.WampWriter Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="de::tavendo::autobahn::WampWriter" --><!-- doxytag: inherits="de::tavendo::autobahn::WebSocketWriter" -->
<p>Autobahn WAMP writer, the transmitting leg of a WAMP connection.  
 <a href="classde_1_1tavendo_1_1autobahn_1_1_wamp_writer.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for de.tavendo.autobahn.WampWriter:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classde_1_1tavendo_1_1autobahn_1_1_wamp_writer.png" usemap="#de.tavendo.autobahn.WampWriter_map" alt=""/>
  <map id="de.tavendo.autobahn.WampWriter_map" name="de.tavendo.autobahn.WampWriter_map">
<area href="classde_1_1tavendo_1_1autobahn_1_1_web_socket_writer.html" title="WebSocket writer, the sending leg of a WebSockets connection." alt="de.tavendo.autobahn.WebSocketWriter" shape="rect" coords="0,0,232,24"/>
</map>
 </div></div>

<p><a href="classde_1_1tavendo_1_1autobahn_1_1_wamp_writer-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classde_1_1tavendo_1_1autobahn_1_1_wamp_writer.html#aa27c59b2b2bd3456a6af820da61fffd5">WampWriter</a> (Looper looper, Handler master, SocketChannel socket, <a class="el" href="classde_1_1tavendo_1_1autobahn_1_1_web_socket_options.html">WebSocketOptions</a> options)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A writer object is created in AutobahnConnection.  <a href="#aa27c59b2b2bd3456a6af820da61fffd5"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classde_1_1tavendo_1_1autobahn_1_1_wamp_writer.html#a13684fb1f30f8b76e17cb4f1e660d3c1">processAppMessage</a> (Object msg)  throws WebSocketException, IOException </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Called from <a class="el" href="classde_1_1tavendo_1_1autobahn_1_1_web_socket_writer.html" title="WebSocket writer, the sending leg of a WebSockets connection.">WebSocketWriter</a> when it receives a message in it's message loop it does not recognize.  <a href="#a13684fb1f30f8b76e17cb4f1e660d3c1"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">final JsonFactory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classde_1_1tavendo_1_1autobahn_1_1_wamp_writer.html#a605dccb75fc4e6a57d9d2239c8f32f60">mJsonFactory</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the Jackson JSON factory we use to create JSON generators.  <a href="#a605dccb75fc4e6a57d9d2239c8f32f60"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">final <a class="el" href="classde_1_1tavendo_1_1autobahn_1_1_no_copy_byte_array_output_stream.html">NoCopyByteArrayOutputStream</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classde_1_1tavendo_1_1autobahn_1_1_wamp_writer.html#aae36a174376e95e1f4c62bbc4e0d6ed6">mPayload</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This is where we buffer the JSON serialization of WAMP messages.  <a href="#aae36a174376e95e1f4c62bbc4e0d6ed6"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9f66dc587ed4e7d5418bfe2a5a4af5e4"></a><!-- doxytag: member="de::tavendo::autobahn::WampWriter::DEBUG" ref="a9f66dc587ed4e7d5418bfe2a5a4af5e4" args="" -->
static final boolean&#160;</td><td class="memItemRight" valign="bottom"><b>DEBUG</b> = true</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0f2e549e7f60bd259883006f4d220717"></a><!-- doxytag: member="de::tavendo::autobahn::WampWriter::TAG" ref="a0f2e549e7f60bd259883006f4d220717" args="" -->
static final String&#160;</td><td class="memItemRight" valign="bottom"><b>TAG</b> = WampWriter.class.getName()</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Autobahn WAMP writer, the transmitting leg of a WAMP connection. </p>
<p>This writer serializes WAMP messages forwarded from the foreground thread (the master) to this object running on the writer thread. WAMP messages are serialized to JSON, and then sent via WebSockets. </p>

<p>Definition at line <a class="el" href="_wamp_writer_8java_source.html#l00040">40</a> of file <a class="el" href="_wamp_writer_8java_source.html">WampWriter.java</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa27c59b2b2bd3456a6af820da61fffd5"></a><!-- doxytag: member="de::tavendo::autobahn::WampWriter::WampWriter" ref="aa27c59b2b2bd3456a6af820da61fffd5" args="(Looper looper, Handler master, SocketChannel socket, WebSocketOptions options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">de.tavendo.autobahn.WampWriter.WampWriter </td>
          <td>(</td>
          <td class="paramtype">Looper&#160;</td>
          <td class="paramname"><em>looper</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Handler&#160;</td>
          <td class="paramname"><em>master</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SocketChannel&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classde_1_1tavendo_1_1autobahn_1_1_web_socket_options.html">WebSocketOptions</a>&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A writer object is created in AutobahnConnection. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">looper</td><td>The message looper associated with the thread running this object. </td></tr>
    <tr><td class="paramname">master</td><td>The message handler associated with the master thread (running AutobahnConnection). </td></tr>
    <tr><td class="paramname">socket</td><td>The TCP socket (channel) the <a class="el" href="interfacede_1_1tavendo_1_1autobahn_1_1_web_socket.html">WebSocket</a> connection runs over. </td></tr>
    <tr><td class="paramname">options</td><td>WebSockets options for the underlying WebSockets connection. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_wamp_writer_8java_source.html#l00063">63</a> of file <a class="el" href="_wamp_writer_8java_source.html">WampWriter.java</a>.</p>

<p>References <a class="el" href="_wamp_writer_8java_source.html#l00048">de.tavendo.autobahn.WampWriter.mJsonFactory</a>, and <a class="el" href="_wamp_writer_8java_source.html#l00053">de.tavendo.autobahn.WampWriter.mPayload</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a13684fb1f30f8b76e17cb4f1e660d3c1"></a><!-- doxytag: member="de::tavendo::autobahn::WampWriter::processAppMessage" ref="a13684fb1f30f8b76e17cb4f1e660d3c1" args="(Object msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void de.tavendo.autobahn.WampWriter.processAppMessage </td>
          <td>(</td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td>  throws <a class="el" href="classde_1_1tavendo_1_1autobahn_1_1_web_socket_exception.html">WebSocketException</a>, IOException <code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called from <a class="el" href="classde_1_1tavendo_1_1autobahn_1_1_web_socket_writer.html" title="WebSocket writer, the sending leg of a WebSockets connection.">WebSocketWriter</a> when it receives a message in it's message loop it does not recognize. </p>

<p>Reimplemented from <a class="el" href="classde_1_1tavendo_1_1autobahn_1_1_web_socket_writer.html#a56e9494db545ffd85e163cf43c46f5b6">de.tavendo.autobahn.WebSocketWriter</a>.</p>

<p>Definition at line <a class="el" href="_wamp_writer_8java_source.html#l00078">78</a> of file <a class="el" href="_wamp_writer_8java_source.html">WampWriter.java</a>.</p>

<p>References <a class="el" href="_no_copy_byte_array_output_stream_8java_source.html#l00063">de.tavendo.autobahn.NoCopyByteArrayOutputStream.getByteArray()</a>, <a class="el" href="_wamp_writer_8java_source.html#l00048">de.tavendo.autobahn.WampWriter.mJsonFactory</a>, <a class="el" href="_wamp_writer_8java_source.html#l00053">de.tavendo.autobahn.WampWriter.mPayload</a>, and <a class="el" href="_web_socket_writer_8java_source.html#l00286">de.tavendo.autobahn.WebSocketWriter.sendFrame()</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a605dccb75fc4e6a57d9d2239c8f32f60"></a><!-- doxytag: member="de::tavendo::autobahn::WampWriter::mJsonFactory" ref="a605dccb75fc4e6a57d9d2239c8f32f60" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final JsonFactory <a class="el" href="classde_1_1tavendo_1_1autobahn_1_1_wamp_writer.html#a605dccb75fc4e6a57d9d2239c8f32f60">de.tavendo.autobahn.WampWriter.mJsonFactory</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is the Jackson JSON factory we use to create JSON generators. </p>

<p>Definition at line <a class="el" href="_wamp_writer_8java_source.html#l00048">48</a> of file <a class="el" href="_wamp_writer_8java_source.html">WampWriter.java</a>.</p>

<p>Referenced by <a class="el" href="_wamp_writer_8java_source.html#l00078">de.tavendo.autobahn.WampWriter.processAppMessage()</a>, and <a class="el" href="_wamp_writer_8java_source.html#l00063">de.tavendo.autobahn.WampWriter.WampWriter()</a>.</p>

</div>
</div>
<a class="anchor" id="aae36a174376e95e1f4c62bbc4e0d6ed6"></a><!-- doxytag: member="de::tavendo::autobahn::WampWriter::mPayload" ref="aae36a174376e95e1f4c62bbc4e0d6ed6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final <a class="el" href="classde_1_1tavendo_1_1autobahn_1_1_no_copy_byte_array_output_stream.html">NoCopyByteArrayOutputStream</a> <a class="el" href="classde_1_1tavendo_1_1autobahn_1_1_wamp_writer.html#aae36a174376e95e1f4c62bbc4e0d6ed6">de.tavendo.autobahn.WampWriter.mPayload</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is where we buffer the JSON serialization of WAMP messages. </p>

<p>Definition at line <a class="el" href="_wamp_writer_8java_source.html#l00053">53</a> of file <a class="el" href="_wamp_writer_8java_source.html">WampWriter.java</a>.</p>

<p>Referenced by <a class="el" href="_wamp_writer_8java_source.html#l00078">de.tavendo.autobahn.WampWriter.processAppMessage()</a>, and <a class="el" href="_wamp_writer_8java_source.html#l00063">de.tavendo.autobahn.WampWriter.WampWriter()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/de/tavendo/autobahn/<a class="el" href="_wamp_writer_8java_source.html">WampWriter.java</a></li>
</ul>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Fri Jun 22 2012 18:12:09 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
